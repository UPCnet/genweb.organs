var hideElementsSelect=function(){$("#form-widgets-select_users-error").removeClass("viewError"),$("#form-widgets-select_users-warn").removeClass("viewWarn"),$("#form-widgets-select_users-hint > tbody").html("<tr><td/><td/><td/><td/><td/></tr>")},addUser=function(e){parent=$(e).parent().parent(),0<$("#form-widgets-signants").val().length?$("#form-widgets-signants").val($("#form-widgets-signants").val()+", "+$(parent).children(".userid").html()):$("#form-widgets-signants").val($(parent).children(".userid").html()),$("#form-widgets-select_users-modal").modal("toggle")};$("#form-widgets-select_users-btn").on("click",function(){hideElementsSelect();var e=new RegExp("^[a-zA-ZñÑçÇ]{1,}\\.[a-zA-Z0-9-.ñÑçÇ]{1,}$"),s=$("#form-widgets-select_users-input").val();e.test(s)?$.ajax({type:"POST",data:{user:$("#form-widgets-select_users-input").val()},url:"getUsers",success:function(e){null!=(results=$.parseJSON(e))&&0<results.length?($("#form-widgets-select_users-hint > tbody").html(""),$.each(results,function(e,s){$("#form-widgets-select_users-hint").show(),field="<tr class='align-middle'>",field=(field=(field+="<td class='userid'>"+s.user+"</td>")+"<td class='fullname'>"+s.fullname+"</td>")+"<td class='email'>"+s.email+"</td><td class='actions'><a class='btn btn-secondary' onclick='addUser(this)'><i class='bi bi-plus' aria-hidden='true'></i></a></td></tr>",$("#form-widgets-select_users-hint").append(field)})):$("#form-widgets-select_users-warn").addClass("viewWarn")}}):$("#form-widgets-select_users-error").addClass("viewError")}),$("#form-widgets-select_users-btn-clear").on("click",function(){$("#form-widgets-signants").val("")});