<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xml:lang="en" lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="genweb.organs">
<body>

<div metal:fill-slot="main" tal:condition="view/canView">

  <div class="content-core"        
       tal:define="content_type context/file/contentType|nothing;
                   download_url string:${context/absolute_url}/@@download/file/${context/file/filename}">

    <h1 class="documentFirstHeading mb-3" tal:content="view/title">Annex</h1>

    <div tal:condition="context/description" class="mb-3">
      <div tal:content="structure context/description">Descripci√≥</div>
    </div>

    <p class="mb-3">
      <i class="bi bi-file-earmark-music text-info me-1" aria-hidden="true"></i>
      <a tal:attributes="href download_url;" target="_blank">
        <tal:name tal:content="context/file/filename">Filename</tal:name>
      </a>
      <span class="text-muted fs-s ms-2"
            tal:define="size context/file/getSize; 
                        kb python:round(size/1024, 2)">
        (<span tal:replace="kb"></span> KB)
      </span>
    </p>

    <video tal:condition="view/is_opusfile" controls="" name="media" style="height:30px; width: 300px;">
      <source tal:attributes="src download_url;" type="audio/ogg"></source>
    </video>

    <video tal:condition="view/is_videotype" controls="controls">
      <source tal:attributes="src download_url; type content_type"></source>
    </video>

    <audio class="w-100" tal:condition="view/is_audiotype" controls="controls">
      <source tal:attributes="src download_url; type content_type"></source>
    </audio>

    <div tal:condition="python: content_type.startswith('text')">
      <h2 i18n:translate="">File contents</h2>
      <pre tal:content="context/file/data|nothing"></pre>
    </div>

  </div>
</div>
</body>
</html>