<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="genweb.organs">

<body>

<!--
  <metal:title fill-slot="content-title">
  </metal:title>

  <metal:description fill-slot="content-description">
  </metal:description> -->

  <metal:content-core fill-slot="content-core">
    <metal:listingmacro define-macro="listing"
      tal:define="contentFilter contentFilter|request/contentFilter|nothing;
                        contentFilter python:contentFilter and dict(contentFilter) or {};
                        limit_display limit_display|request/limit_display|nothing;
                        limit_display python:limit_display and int(limit_display) or None;
                        more_url more_url|request/more_url|string:folder_contents;
                        is_a_topic python:context.portal_type=='Topic';
                        folderContents folderContents|nothing;
                        folderContents python:context.getFolderContents(contentFilter, batch=True, b_size=limit_display or 100);">

      <tal:Organs tal:define="items view/OrgansInside" tal:condition="items">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>&nbsp;
                <tal:title i18n:translate="">Title</tal:title>
              </th>
              <th>&nbsp;
                <tal:head i18n:translate="">Acronym</tal:head>
              </th>
              <th>&nbsp;
                <tal:head i18n:translate="">Organ type</tal:head>
              </th>
              <th>&nbsp;
                <tal:head i18n:translate="">State</tal:head>
              </th>
            </tr>
          </thead>
          <tal:documents repeat="item items">
              <tr>
                <td>&nbsp;
                  <a tal:attributes="href item/absolute_url;"
                     tal:content="item/title">
                          Item Title
                  </a>
                </td>
                <td>&nbsp;
                  <span tal:content="item/acronim">
                          Item Description
                  </span>
                </td>
                <td>&nbsp;
                  <span tal:content="item/tipus"
                        i18n:translate="">
                          Item Type
                  </span>
                </td>
                <td>&nbsp;
                  <span tal:content="item/review_state"
                        style="text-transform: capitalize;"
                        tal:attributes="class item/review_state"
                        i18n:translate=""
                        i18n:domain="plone">
                          Item Status
                  </span>
                </td>
              </tr>
          </tal:documents>
        </table>
      </tal:Organs>

      <metal:empty metal:define-slot="no_items_in_listing">
        <p class="discreet"
           tal:condition="not: folderContents"
           i18n:translate="description_no_items_in_folder">
            There are currently no Organs in this folder.
        </p>
      </metal:empty>

    </metal:listingmacro>
  </metal:content-core>

</body>
</html>
